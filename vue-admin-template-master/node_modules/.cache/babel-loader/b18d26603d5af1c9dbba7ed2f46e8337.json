{"remainingRequest":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue管理端\\软件工程\\vue-admin-template-master\\src\\views\\UserControll\\adduser.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\src\\views\\UserControll\\adduser.vue","mtime":1654951554144},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\babel.config.js","mtime":1637306514000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Z1ZVx1N0JBMVx1NzQwNlx1N0FFRi9cdThGNkZcdTRFRjZcdTVERTVcdTdBMEIvdnVlLWFkbWluLXRlbXBsYXRlLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5pcy1pbnRlZ2VyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGFkZHVzZXJjb250cm9sbCBmcm9tICJAL2FwaS91c2VyY29udHJvbGxlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgLy/nlKjmiLflr4bnoIEKICAgIHZhciBudW0gPSBmdW5jdGlvbiBudW0ocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCLlr4bnoIHkuI3og73kuLrnqboiKSk7CiAgICAgIH0KCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBQYXNzd29yZCA9IC9eW2EtekEtWl1cd3s1LDE3fSQvOwoKICAgICAgICBpZiAoIVBhc3N3b3JkLnRlc3QodmFsdWUpKSB7CiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeS7peWtl+avjeW8gOWktO+8jOmVv+W6puWcqDYtMTjkuYvpl7TvvIzlj6rog73ljIXlkKvlrZfnrKbjgIHmlbDlrZflkozkuIvliJLnur/jgIIiKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH07IC8v55So5oi35p2D6ZmQCgoKICAgIHZhciBzdGF0dXNzID0gZnVuY3Rpb24gc3RhdHVzcyhydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoIuWGheWuueS4jeiDveS4uuepuiIpKTsKICAgICAgfQoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKSkgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXmlbDlrZflgLwiKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh2YWx1ZSA+IDEgfHwgdmFsdWUgPCAwKSB7CiAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5pWw5a2X5YC8MeaIluiAhTAiKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9OyAvL+mCrueusemqjOivgQoKCiAgICB2YXIgY2hlY2tlbWFpbCA9IGZ1bmN0aW9uIGNoZWNrZW1haWwocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCLlhoXlrrnkuI3og73kuLrnqboiKSk7CiAgICAgIH0KCiAgICAgIHZhciByZWdFbWFpbCA9IC9eKFthLXpBLVowLTlfLV0pK0AoW2EtekEtWjAtOV8tXSkrKC5bYS16QS1aMC05Xy1dKSsvOwoKICAgICAgaWYgKCFyZWdFbWFpbC50ZXN0KHZhbHVlKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6L6T5YWl5q2j56Gu55qE6YKu566x5qC85byPIikpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07IC8v55S16K+d5Yik5patCgoKICAgIHZhciBjaGVja3Bob25lID0gZnVuY3Rpb24gY2hlY2twaG9uZShydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoIuaJi+acuuWPt+S4jeiDveS4uuepuiIpKTsKICAgICAgfQoKICAgICAgdmFyIHJlZyA9IC9eMVszNDU3OF1cZHs5fSQvOwoKICAgICAgaWYgKCFyZWcudGVzdCh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIui+k+WFpeaJi+acuuagvOW8j+S4jeato+ehriIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHsKICAgICAgICBzZXg6IDAsCiAgICAgICAgYXV0aG9yaXR5OiAiIiwKICAgICAgICBwb3J0cmFpdDogIiIKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5ZCN56ewIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMiwKICAgICAgICAgIG1heDogMTAsCiAgICAgICAgICBtZXNzYWdlOiAi6ZW/5bqm5ZyoIDIg5YiwIDEwIOS4quWtl+espiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeeUqOaIt+WQjeensCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDIsCiAgICAgICAgICBtYXg6IDEwLAogICAgICAgICAgbWVzc2FnZTogIumVv+W6puWcqCAyIOWIsCAxMCDkuKrlrZfnrKYiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IG51bSwKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgc3RhdHVzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup55So5oi354q25oCBIiwKICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiCiAgICAgICAgfV0sCiAgICAgICAgZW1haWw6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IGNoZWNrZW1haWwsCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBob25lOiBbewogICAgICAgICAgdmFsaWRhdG9yOiBjaGVja3Bob25lLAogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBhdXRob3JpdHk6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nmnYPpmZDnuqfliKsiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy/ojrflj5Zmcm9t57uT54K577yM6aqM6K+B5a2X5q61CiAgICAgIHRoaXMuJHJlZnMucnVsZUZvcm0udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoc3VjY2VzcykgewogICAgICAgICAgdmFyIHZtOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgdm0gPSBfdGhpczsKICAgICAgICAgICAgICAgICAgYWRkdXNlcmNvbnRyb2xsLmFkdXNlcih2bS51c2VyKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgICAgICAgdm0uJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIua3u+WKoOaIkOWKnyEiLAogICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdm0uJHJvdXRlci5nbygtMSk7CiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZtLiRtZXNzYWdlLmVycm9yKCLmt7vliqDlpLHotKUiKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgLy/kuIrkvKDlm77niYfnm7jlhbPlm57osIMKICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzLCBmaWxlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdzZHNhJywgcmVzKTsKICAgICAgY29uc29sZS5sb2coJ3Nkc2EnLCByZXMuZGF0YSk7CiAgICAgIHRoaXMudXNlci5wb3J0cmFpdCA9IHJlcy5kYXRhLnBhdGg7CiAgICAgIGNvbnNvbGUubG9nKCLkuIrkvKDlm77niYfmiJDlip8iLCB0aGlzLnVzZXIucG9ydHJhaXQpOwogICAgfSwKICAgIGJlZm9yZUF2YXRhclVwbG9hZDogZnVuY3Rpb24gYmVmb3JlQXZhdGFyVXBsb2FkKGZpbGUpIHsKICAgICAgdmFyIGlzSlBHID0gZmlsZS50eXBlID09PSAiaW1hZ2UvanBlZyI7CiAgICAgIHZhciBpc0x0Mk0gPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDI7CiAgICAgIGNvbnNvbGUubG9nKCJiZWZvcmVBdmF0YXJVcGxvYWQiLCBmaWxlKTsKCiAgICAgIGlmICghaXNKUEcpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLkuIrkvKDlpLTlg4/lm77niYflj6rog73mmK8gSlBHIOagvOW8jyEiKTsKICAgICAgfQoKICAgICAgaWYgKCFpc0x0Mk0pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLkuIrkvKDlpLTlg4/lm77niYflpKflsI/kuI3og73otoXov4cgMk1CISIpOwogICAgICB9CgogICAgICByZXR1cm4gaXNKUEcgJiYgaXNMdDJNOwogICAgfSAvLyAgb25TdWJtaXQoKSB7CiAgICAvLyAgIHZhciB2bSA9IHRoaXMKICAgIC8vICAgYWRkdXNlcmNvbnRyb2xsLmFkdXNlcih2bS51c2VyKQogICAgLy8gICAudGhlbihmdW5jdGlvbihyZXNwKSB7CiAgICAvLyAgICAgLy8gdm0udXNlciA9IHJlc3AuZGF0YS5jb2RlCiAgICAvLyAgICAgLy8gY29uc29sZS5sb2coJ3FxcScsdm0udXNlcik7CiAgICAvLyAgICAgCXRoaXMuJG1lc3NhZ2UoewogICAgLy8gICAgIAkgIG1lc3NhZ2U6ICfmt7vliqDmiJDlip8hJywKICAgIC8vICAgICAJICB0eXBlOiAnc3VjY2VzcycKICAgIC8vICAgICAgIH0pCiAgICAvLyAgICAgdm0uJHJvdXRlci5nbygtMSkKICAgIC8vICAgICBjb25zb2xlLmxvZygncXFxcXFxcXFxcXEnKTsKICAgIC8vICAgfSkKICAgIC8vICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCdhYWFhYWFhJyk7CiAgICAvLyAgIAkJCSB2bS4kbWVzc2FnZS5lcnJvcign5re75Yqg5aSx6LSlJykKICAgIC8vICAgICAgICAgLy8gIHRoaXMuJHJvdXRlci5nbygtMSkKICAgIC8vICAgfSkKICAgIC8vIH0KCiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;EACAA,IADA,kBACA;IACA;IACA;MACA;QACA;MACA;;MAEAC;QACA;;QACA;UACAC,SACA,UACA,mCADA,CADA;QAKA,CANA,MAMA;UACAA;QACA;MACA,CAXA,EAWA,IAXA;IAYA,CAjBA,CAFA,CAoBA;;;IACA;MACA;QACA;MACA;;MACAD;QACA;UACAC;QACA,CAFA,MAEA;UACA;YACAA;UACA,CAFA,MAEA;YACAA;UACA;QACA;MACA,CAVA,EAUA,IAVA;IAWA,CAfA,CArBA,CAqCA;;;IACA;MACA;QACA;MACA;;MACA;;MACA;QACAA;MACA,CAFA,MAEA;QACAA;MACA;IACA,CAVA,CAtCA,CAiDA;;;IACA;MACA;QACA;MACA;;MACA;;MACA;QACAA;MACA,CAFA,MAEA;QACAA;MACA;IACA,CAVA;;IAYA;MACAC;QACAC,MADA;QAEAC,aAFA;QAGAC;MAHA,CADA;MAOAC;QACAC,OACA;UAAAC;UAAAC;UAAAC;QAAA,CADA,EAEA;UACAC,MADA;UAEAC,OAFA;UAGAH,yBAHA;UAIAC;QAJA,CAFA,CADA;QAUAG,WACA;UAAAL;UAAAC;UAAAC;QAAA,CADA,EAEA;UACAC,MADA;UAEAC,OAFA;UAGAH,yBAHA;UAIAC;QAJA,CAFA,CAVA;QAmBAI;UAAAC;UAAAP;UAAAE;QAAA,EAnBA;QAoBAM;UAAAR;UAAAC;UAAAC;QAAA,EApBA;QAqBAO;UAAAF;UAAAP;UAAAE;QAAA,EArBA;QAsBAQ;UAAAH;UAAAP;UAAAE;QAAA,EAtBA;QAuBAN,YACA;UAAAI;UAAAC;UAAAC;QAAA,CADA;MAvBA;IAPA;EAmCA,CAlGA;EAmGAS;IACAC,QADA,sBACA;MAAA;;MACA;MACA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,KAEAC,OAFA;oBAAA;oBAAA;kBAAA;;kBAGAC,EAHA,GAGA,KAHA;kBAIAC,gBACAC,MADA,CACAF,OADA,EAEAG,IAFA,CAEA;oBACAH;sBACAb,gBADA;sBAEAiB;oBAFA;oBAIAJ;kBACA,CARA,EASAK,KATA,CASA;oBACAL;kBACA,CAXA;kBAJA;kBAAA;;gBAAA;kBAAA,iCAiBA,KAjBA;;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;;QAAA;UAAA;QAAA;MAAA;IAoBA,CAvBA;IAwBA;IACAM,mBAzBA,+BAyBAC,GAzBA,EAyBAC,IAzBA,EAyBA;MACAC;MACAA;MACA;MACAA;IACA,CA9BA;IA+BAC,kBA/BA,8BA+BAF,IA/BA,EA+BA;MACA;MACA;MACAC;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;IACA,CA1CA,CA2CA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EA9DA;AAnGA","names":["data","setTimeout","callback","user","sex","authority","portrait","rules","name","required","message","trigger","min","max","username","password","validator","status","email","phone","methods","onSubmit","success","vm","addusercontroll","aduser","then","type","catch","handleAvatarSuccess","res","file","console","beforeAvatarUpload"],"sourceRoot":"src/views/UserControll","sources":["adduser.vue"],"sourcesContent":["<template>\n  <div class=\"box\" shadow=\"never\">\n    <el-form :model=\"user\" label-width=\"180px\" :rules=\"rules\" ref=\"ruleForm\">\n      <el-form-item></el-form-item>\n      <el-form-item label=\"名称：\" prop=\"name\">\n        <el-input\n          v-model=\"user.name\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"用户名称：\" prop=\"username\">\n        <el-input\n          v-model=\"user.username\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"用户密码：\" prop=\"password\">\n        <el-input\n          v-model=\"user.password\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"用户性别：\">\n        <el-radio-group v-model=\"user.sex\">\n          <el-radio :label=\"1\">男</el-radio>\n          <el-radio :label=\"0\">女</el-radio>\n        </el-radio-group>\n      </el-form-item>\n\n      <el-form-item label=\"用户权限：\" prop=\"authority\">\n        <el-select v-model=\"user.authority\" placeholder=\"请选择权限级别\">\n          <el-option label=\"超级管理员\" value=\"超级管理员\"></el-option>\n          <el-option label=\"普通管理员\" value=\"普通管理员\"></el-option>\n          <el-option label=\"普通用户\" value=\"普通用户\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"电话：\" prop=\"phone\">\n        <el-input\n          v-model.number=\"user.phone\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n      <el-form-item label=\"邮箱：\" prop=\"email\">\n        <el-input\n          v-model=\"user.email\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n    <el-form-item label=\"用户状态：\" prop=\"status\">\n        <el-select v-model=\"user.status\" placeholder=\"请选择用户状态\">\n          <el-option label=\"状态1\" value=\"1\"></el-option>\n          <el-option label=\"状态0\" value=\"0\"></el-option>\n        </el-select>\n      </el-form-item>\n\n       <!-- 上传图片 -->\n      <el-form-item label=\"上传图片：\">\n        <el-upload\n          class=\"avatar-uploader\"\n          action=\"http://120.77.145.204:8021/uploadFile\"\n          :show-file-list=\"true\"\n          :on-success=\"handleAvatarSuccess\"\n          :before-upload=\"beforeAvatarUpload\"\n        >\n          <img v-if=\"user.portrait\" :src=\"user.portrait\" class=\"avatar\" />\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n          <div slot=\"tip\" class=\"el-upload__tip\">\n            只能上传jpg/png文件，且不超过500kb\n          </div>\n        </el-upload>\n      </el-form-item>\n      <!-- ------------------------------ -->\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit\">添加</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport addusercontroll from \"@/api/usercontroller\";\nexport default {\n  data() {\n    //用户密码\n    var num = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"密码不能为空\"));\n      }\n\n      setTimeout(() => {\n        const Password = /^[a-zA-Z]\\w{5,17}$/;\n        if (!Password.test(value)) {\n          callback(\n            new Error(\n              \"请输入以字母开头，长度在6-18之间，只能包含字符、数字和下划线。\"\n            )\n          );\n        } else {\n          callback();\n        }\n      }, 1000);\n    };\n    //用户权限\n    var statuss = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"内容不能为空\"));\n      }\n      setTimeout(() => {\n        if (!Number.isInteger(value)) {\n          callback(new Error(\"请输入数字值\"));\n        } else {\n          if (value > 1 || value < 0) {\n            callback(new Error(\"请输入数字值1或者0\"));\n          } else {\n            callback();\n          }\n        }\n      }, 1000);\n    };\n    //邮箱验证\n    var checkemail = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"内容不能为空\"));\n      }\n      const regEmail = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;\n      if (!regEmail.test(value)) {\n        callback(new Error(\"输入正确的邮箱格式\"));\n      } else {\n        callback();\n      }\n    };\n    //电话判断\n    var checkphone = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"手机号不能为空\"));\n      }\n      const reg = /^1[34578]\\d{9}$/;\n      if (!reg.test(value)) {\n        callback(new Error(\"输入手机格式不正确\"));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      user: {\n        sex: 0,\n        authority: \"\",\n        portrait:\"\"\n      },\n\n      rules: {\n        name: [\n          { required: true, message: \"请输入名称\", trigger: \"blur\" },\n          {\n            min: 2,\n            max: 10,\n            message: \"长度在 2 到 10 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n        username: [\n          { required: true, message: \"请输入用户名称\", trigger: \"blur\" },\n          {\n            min: 2,\n            max: 10,\n            message: \"长度在 2 到 10 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n        password: [{ validator: num, required: true, trigger: \"blur\" }],\n         status: [{ required: true, message: \"请选择用户状态\", trigger: \"change\" }],\n        email: [{ validator: checkemail, required: true, trigger: \"blur\" }],\n        phone: [{ validator: checkphone, required: true, trigger: \"blur\" }],\n        authority: [\n          { required: true, message: \"请选择权限级别\", trigger: \"change\" },\n        ],\n      },\n    };\n  },\n  methods: {\n    onSubmit() {\n      //获取from结点，验证字段\n      this.$refs.ruleForm.validate(async (success) => {\n        //如果全部字段符合条件\n        if (success) {\n          var vm = this;\n          addusercontroll\n            .aduser(vm.user)\n            .then(function (resp) {\n              vm.$message({\n                message: \"添加成功!\",\n                type: \"success\",\n              });\n              vm.$router.go(-1);\n            })\n            .catch(function (error) {\n              vm.$message.error(\"添加失败\");\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n      //上传图片相关回调\n    handleAvatarSuccess(res, file) {\n      console.log('sdsa',res);\n      console.log('sdsa',res.data);\n      this.user.portrait = res.data.path;\n      console.log(\"上传图片成功\", this.user.portrait);\n    },\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === \"image/jpeg\";\n      const isLt2M = file.size / 1024 / 1024 < 2;\n      console.log(\"beforeAvatarUpload\", file);\n      if (!isJPG) {\n        this.$message.error(\"上传头像图片只能是 JPG 格式!\");\n      }\n      if (!isLt2M) {\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\n      }\n      return isJPG && isLt2M;\n    },\n    //  onSubmit() {\n    //   var vm = this\n    //   addusercontroll.aduser(vm.user)\n    //   .then(function(resp) {\n    //     // vm.user = resp.data.code\n    //     // console.log('qqq',vm.user);\n    //     \tthis.$message({\n    //     \t  message: '添加成功!',\n    //     \t  type: 'success'\n    //       })\n\n    //     vm.$router.go(-1)\n    //     console.log('qqqqqqqqqqq');\n    //   })\n    //   .catch(function(error) {\n    //         console.log('aaaaaaa');\n    //   \t\t\t vm.$message.error('添加失败')\n    //         //  this.$router.go(-1)\n    //   })\n    // }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.line {\n  text-align: center;\n}\n\n.box {\n  margin-left: 200px;\n  height: 850px;\n  width: 700px;\n  border: solid rgb(187, 186, 187);\n}\n\n.avatar-uploader .el-upload {\n  border: 3px dashed #decfcf;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n</style>\n\n"]}]}