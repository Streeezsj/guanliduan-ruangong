{"remainingRequest":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue管理端\\软件工程\\vue-admin-template-master\\src\\views\\Reseach\\edititem.vue?vue&type=style&index=0&id=0c647af6&scoped=true&lang=css&","dependencies":[{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\src\\views\\Reseach\\edititem.vue","mtime":1654858713740},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubGluZSB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5ib3ggewogIG1hcmdpbi1sZWZ0OiAyMDBweDsKICBoZWlnaHQ6IDExMDBweDsKICB3aWR0aDogNzAwcHg7CiAgYm9yZGVyOiBzb2xpZCByZ2IoMTg3LCAxODYsIDE4Nyk7Cn0KCiAuYXZhdGFyLXVwbG9hZGVyIC5lbC11cGxvYWQgewogICAgYm9yZGVyOiAzcHggZGFzaGVkICNkZWNmY2Y7CiAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogIH0KICAuYXZhdGFyLXVwbG9hZGVyIC5lbC11cGxvYWQ6aG92ZXIgewogICAgYm9yZGVyLWNvbG9yOiAjNDA5RUZGOwogIH0KICAuYXZhdGFyLXVwbG9hZGVyLWljb24gewogICAgZm9udC1zaXplOiAyOHB4OwogICAgY29sb3I6ICM4YzkzOWQ7CiAgICB3aWR0aDogMTc4cHg7CiAgICBoZWlnaHQ6IDE3OHB4OwogICAgbGluZS1oZWlnaHQ6IDE3OHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogIH0KICAuYXZhdGFyIHsKICAgIHdpZHRoOiAxNzhweDsKICAgIGhlaWdodDogMTc4cHg7CiAgICBkaXNwbGF5OiBibG9jazsKICB9Cg=="},{"version":3,"sources":["edititem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"edititem.vue","sourceRoot":"src/views/Reseach","sourcesContent":["<template>\n  <div class=\"box\" shadow=\"never\">\n   <el-form :model=\"item\" label-width=\"180px\" :rules=\"rules\" ref=\"ruleForm\">\n\n      <el-form-item></el-form-item>\n\n      <el-form-item label=\"项目名称：\" prop=\"itemName\">\n        <el-input\n          v-model=\"item.itemName\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"项目组织人：\" prop=\"leaderName\">\n        <el-input\n          v-model=\"item.leaderName\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"项目类型：\" prop=\"type\">\n        <el-input\n          v-model=\"item.type\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"项目简介：\" prop=\"detail\">\n         <el-input\n                  :autoSize=\"true\"\n                  style=\"width: 400px;\"\n                 v-model=\"item.detail\"\n                  type=\"textarea\"\n                  placeholder=\"请输入内容\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"项目小组成员人数：\" prop=\"memberNumber\">\n        <el-input\n          v-model.number=\"item.memberNumber\"\n          style=\"width: 300px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"项目小组成员名字：\">\n        <el-input\n          v-model.number=\"item.maxNumber\"\n          style=\"width: 300px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"开始时间:\" prop=\"createTime\">\n        <el-date-picker\n          v-model=\"item.createTime\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n          type=\"datetime\"\n          placeholder=\"选择日期时间\"\n\n        >\n        </el-date-picker>\n\n      </el-form-item>\n\n      <el-form-item  label=\"更新时间:\" prop=\"updateTime\">\n        <el-date-picker\n          v-model=\"item.updateTime\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n          type=\"datetime\"\n           placeholder=\"选择日期时间\"\n\n        >\n        </el-date-picker>\n      </el-form-item>\n\n        <!-- 上传图片 -->\n      <!-- <el-form-item label=\"文章图片：\">\n        <el-upload\n          class=\"avatar-uploader\"\n          action=\"http://120.77.145.204:8021/uploadFile?name=1\"\n          :show-file-list=\"true\"\n          :on-success=\"handleAvatarSuccess\"\n          :before-upload=\"beforeAvatarUpload\"\n        >\n          <img v-if=\"item.pictureUrl\" :src=\"item.pictureUrl\" class=\"avatar\" />\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n          <div slot=\"tip\" class=\"el-upload__tip\">\n            只能上传jpg/png文件，且不超过500kb\n          </div>\n        </el-upload>\n         <el-input v-model=\"item.type\" style=\"width: 400px;\" />\n      </el-form-item> -->\n      <!-- ------------------------------ -->\n\n      <el-form-item style=\"margin-left: -20px\">\n        <el-button type=\"primary\" @click=\"onSubmit\">编辑</el-button>\n      </el-form-item>\n   </el-form>\n  </div>\n</template>\n<script>\nimport updatesearchitem from \"@/api/searchitem\";\nexport default {\n    data(){\n       //人数判断\n      var num = (rule, value, callback) => {\n        if (!value) {\n          return callback(new Error('内容不能为空'));\n        }\n        setTimeout(() => {\n          if (!Number.isInteger(value)) {\n            callback(new Error('请输入数字值'));\n          }else{\n            callback();\n          }\n        }, 1000);\n      };\n      return {\n         // -------------------------------------------日历\n      pickerOptions: {\n        shortcuts: [\n          {\n            text: \"今天\",\n            onClick(picker) {\n              picker.$emit(\"pick\", new Date());\n            },\n          },\n          {\n            text: \"昨天\",\n            onClick(picker) {\n              const date = new Date();\n              date.setTime(date.getTime() - 3600 * 1000 * 24);\n              picker.$emit(\"pick\", date);\n            },\n          },\n          {\n            text: \"一周前\",\n            onClick(picker) {\n              const date = new Date();\n              date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit(\"pick\", date);\n            },\n          },\n        ],\n      },\n      item:{},\n\n       rules:{\n           itemName: [\n            { required: true, message: '请输入项目名称', trigger: 'blur' },\n            { min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur' }\n          ],\n          leaderName: [\n            { required: true, message: '请输入组织人姓名', trigger: 'blur' },\n            { min: 1, max: 5, message: '长度在 1 到 5 个字符', trigger: 'blur' }\n          ],\n           type: [\n            { required: true, message: '请输入类型', trigger: 'blur' },\n            { min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur' }\n          ],\n          detail: [\n            { required: true, message: '请输入项目简介', trigger: 'blur' },\n            { min: 2, max: 100, message: '长度在 2 到 100 个字符', trigger: 'blur' }\n          ],\n           memberNumber:[\n           { validator: num, required: true,trigger: 'blur' }\n          ],\n           maxNumber:[\n           { validator: num, required: true,trigger: 'blur' }\n          ],\n           createTime: [\n            {  required: true, message: '请选择开始日期、时间', trigger: 'blur' },\n          ],\n          updateTime: [\n            { required: true, message: '请选择更新日期、时间', trigger: 'blur' },\n          ],\n      }\n      }\n    },\n      created(){\n    this.fatchDataId();\n  },\n    methods: {\n    fatchDataId(){\n      var id = this.$route.params.itemId\n      var vm = this\n     updatesearchitem.updateitem(id)\n     .then(function(resp) {\n        vm.item = resp.data\n        console.log('aaaaaaa',vm.item);\n        })\n    },\n     onSubmit() {\n      //获取from结点，验证字段\n      this.$refs.ruleForm.validate(async (success) => {\n        //如果全部字段符合条件\n        if (success) {\n           var vm = this;\n    updatesearchitem.upsubmititem(vm.item)\n        .then(function (resp) {\n          vm.$message({\n            message: \"修改成功!\",\n            type: \"success\",\n          });\n          vm.$router.go(-1);\n        })\n        .catch(function (error) {\n          vm.$message.error(\"修改失败\");\n        });\n           }\n        else {\n          return false;\n        }\n      });\n    },\n     //上传图片相关回调\n    handleAvatarSuccess(res, file) {\n        this.item.pictureUrl = res.data;\n        console.log(\"上传图片成功\",res)\n      },\n      beforeAvatarUpload(file) {\n        const isJPG = file.type === 'image/jpeg';\n        const isLt2M = file.size / 1024 / 1024 < 2;\n         console.log(\"beforeAvatarUpload\",file)\n        if (!isJPG) {\n          this.$message.error('上传头像图片只能是 JPG 格式!');\n        }\n        if (!isLt2M) {\n          this.$message.error('上传头像图片大小不能超过 2MB!');\n        }\n        return isJPG && isLt2M;\n\n      }\n    }\n}\n</script>\n\n\n<style scoped>\n.line {\n  text-align: center;\n}\n.box {\n  margin-left: 200px;\n  height: 1100px;\n  width: 700px;\n  border: solid rgb(187, 186, 187);\n}\n\n .avatar-uploader .el-upload {\n    border: 3px dashed #decfcf;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n</style>\n"]}]}