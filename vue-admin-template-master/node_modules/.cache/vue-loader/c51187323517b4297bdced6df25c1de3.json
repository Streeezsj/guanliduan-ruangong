{"remainingRequest":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue管理端\\软件工程\\vue-admin-template-master\\src\\views\\ExamineList\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\src\\views\\ExamineList\\index.vue","mtime":1654846322113},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBleGFtaW5lbGlzdCBmcm9tICJAL2FwaS9leGFtaW5laXRlbSI7CmV4cG9ydCBkZWZhdWx0IHsKICAvL+WumuS5ieWPmOmHj+WSjOWIneWni+WAvAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiB7fSwgLy/mr4/pobXmlbDmja7pm4blkIgKICAgICAgcGFnZU51bTogMSwKICAgICAgbGltaXQ6IDksIC8v5q+PbuS4quaVsOaNruS4gOmhtQogICAgICB0b3RhbDogMSwgLy/liJ3lp4vljJYKICAgICAgc2VhcmNoT2JqOiB7fSwgLy/mnaHku7blsIHoo4Xlr7nosaEKICAgICAgZGlhbG9nYXBwcm92ZTpmYWxzZSwKICAgICAgcmVhc29uc3NzOnt9LAogICAgICBpdGVtOnt9CiAgICB9OwogIH0sCiAgLy/lnKjpobXpnaLmuLLmn5PliY3miafooYwKICAvL+iwg+eUqG1ldGhvZHPlrprkuYnnmoTmlrnms5XvvIzlvpfliLDmlbDmja4KICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6aG16Z2i5YiX6KGo6aG15riy5p+T77yM6K+35rGC5o6l5Y+j6LCD55SoCiAgICBmZXRjaERhdGEocGFnZSA9IDEpIHsKICAgICAgdGhpcy5wYWdlTnVtID0gcGFnZTsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgZXhhbWluZWxpc3QKICAgICAgICAuZ2V0RXhhbWluZUxpc3QodGhpcy5saW1pdCwgdGhpcy5wYWdlTnVtLCB0aGlzLnNlYXJjaE9iaikKICAgICAgICAvL+ivt+axguaIkOWKn+iwg+eUqAogICAgICAgIC50aGVuKChyZXNwKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygndHR0dCcsdGhpcy5zZWFyY2hPYmopOwogICAgICAgICAgdm0ubGlzdCA9IHJlc3AuZGF0YS5yZWNvcmRzOwogICAgICAgICAgdm0udG90YWwgPSByZXNwLmRhdGEudG90YWw7CiAgICAgICAgICBjb25zb2xlLmxvZygiYWRhc2RzYWQiLCByZXNwLmRhdGEucmVjb3Jkcyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiMTMyMTMyMSIpOwogICAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZVN3aXRjaChlLCByb3csIGluZGV4KSB7CiAgICAgIGxldCB1aWQgPSByb3cuYXBwcm92ZUlkOwogICAgICBjb25zb2xlLmxvZygicXFxcXFxcXFxIiwgZSwgcm93LCBpbmRleCk7CiAgICAgIGxldCB0eXBlID0gcm93LnN0YXR1czsKICAgICAgY29uc29sZS5sb2coImFhYWFhYWFhYWFhIiwgdHlwZSk7CiAgICAgIHRoaXMuJGNvbmZpcm0oIuaYr+WQpuWQjOaEj+WuoeaJuSIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLmmK8iLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlkKYiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAvL+iwg+eUqOaOpeWPowogICAgICAgICAgaWYgKHR5cGUgPT09IDApIHsKICAgICAgICAgICAgdHlwZSA9IDE7CiAgICAgICAgICB9CiAgICAgICAgICBleGFtaW5lbGlzdC5nZXRFeGFtaW5lc3RhdHVzKHVpZCwgdHlwZSx0aGlzLml0ZW0pLnRoZW4oKHJlc3ApID0+IHsKICAgICAgICAgICAgLy/mj5DnpLoKICAgICAgICAgICAgY29uc29sZS5sb2coJ2FhYWFhJyx1aWQsdHlwZSk7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAi5a6h5om56YCa6L+HISIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvL+WIt+aWsOmhtemdouaVsOaNrgogICAgICAgICAgICB0aGlzLmZldGNoRGF0YSgxKTsKICAgICAgICAgIH0pOwogICAgICAgICAgLy8gdGhpcy5mZXRjaERhdGEoMSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4ge30pOwogICAgfSwKICAgIGNoYW5nZWZsYXNlKHJvdykgewogICAgICAvLyBsZXQgdWlkID0gcm93LmFwcHJvdmVJZDsKICAgICAgLy8gY29uc29sZS5sb2coInFxcXFxcXFxcSIsIGUsIHJvdywgaW5kZXgpOwogICAgICAvLyBsZXQgdHlwZSA9IHJvdy5zdGF0dXM7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJhYWFhYWFhYWFhYSIsIHR5cGUpOwogICAgICBjb25zb2xlLmxvZyhyb3cpOwogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB0aGlzLmRpYWxvZ2FwcHJvdmUgPSB0cnVlOwogICAgICAgZXhhbWluZWxpc3QuZGV0YWlsRXhhbWluZShyb3cpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgdm0ucmVhc29uc3NzID0gcmVzcC5kYXRhCiAgICAgICAgY29uc29sZS5sb2coJ2FhYWFhYWEnLHZtLnJlYXNvbnNzcyk7CiAgICAgIH0pOwogICAgICB0aGlzLml0ZW0gPSB7IC4uLnJvdyB9OwogICAgICAgICAgLy/osIPnlKjmjqXlj6MKICAgICAgICAvLyAgIGlmICh0eXBlID09PSAwKSB7CiAgICAgICAgLy8gICAgIHR5cGUgPSAyOwogICAgICAgIC8vICAgfQogICAgICAgIC8vICAgdGhpcy5pdGVtLnJlYXNvbiA9ImFzZGFzZCIKICAgICAgICAvLyAgIGV4YW1pbmVsaXN0LmdldEV4YW1pbmVzdGF0dXModWlkLCB0eXBlLCB0aGlzLml0ZW0pLnRoZW4oKHJlc3ApID0+IHsKICAgICAgICAvLyAgICAgLy/mj5DnpLoKICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ3FxcScsdWlkKTsKICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ3FxcXFxYWEnLHRoaXMuaXRlbS5yZWFzb24pOwogICAgICAgIC8vICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAvLyAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICAvLyAgICAgICBtZXNzYWdlOiAi5a6h5om55LiN6YCa6L+HISIsCiAgICAgICAgLy8gICAgIH0pOwogICAgICAgIC8vICAgICBjb25zb2xlLmxvZygncXFxcXEnLHR5cGUpOwogICAgICAgIC8vICAgICAvL+WIt+aWsOmhtemdouaVsOaNrgogICAgICAgIC8vICAgICB0aGlzLmZldGNoRGF0YSgxKTsKICAgICAgICAvLyAgIH0pCiAgICAgICAgLy8gICAvLyB0aGlzLmZldGNoRGF0YSgxKTsKCiAgICAgICAgLy8gLmNhdGNoKCgpID0+IHsKICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCd6c2p6c2onKTsKICAgICAgICAvLyB9KTsKICAgIH0sCiAgICBmYWxzZXJlYXNvbihyb3cpewogICAgICBjb25zb2xlLmxvZygnYWFhYWFhYWEnKTsKICAgICAgY29uc29sZS5sb2coJ25ibmInLHJvdyk7CiAgICAgIHRoaXMuZGlhbG9nYXBwcm92ZSA9ZmFsc2U7CiAgICAgIGxldCB1aWQgPSByb3cuYXBwcm92ZUlkOwogICAgICBsZXQgdHlwZSA9IHJvdy5zdGF0dXM7CiAgICAgIGNvbnNvbGUubG9nKCdhYWFhYScscm93KTsKICAgICAgY29uc29sZS5sb2coJ3FxcXFxcXEnLHVpZCk7CiAgICAgIGNvbnNvbGUubG9nKCd0dHR0dHR0dCcsdHlwZSk7CiAgICAgIGNvbnNvbGUubG9nKCd6c2p6c2onLHJvdy5yZWFzb24pOwogICAgICBsZXQgeXVhbnlpbiA9IHJvdy5yZWFzb24KICAgICAgICBpZiAodHlwZSA9PT0gMCkgewogICAgICAgICAgICB0eXBlID0gMjsKICAgICAgICAgIH0KICAgICAgIGV4YW1pbmVsaXN0LmdldEV4YW1pbmVzdGF0dXModWlkLCB0eXBlLHJvdykudGhlbigocmVzcCkgPT4gewogICAgICAgICAgICAvL+aPkOekugogICAgICAgICAgICBjb25zb2xlLmxvZygncXFxJyx1aWQpOwoKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogImRhbmdlciIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuWuoeaJueS4jemAmui/hyEiLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3FxcXFxJyx0eXBlKTsKICAgICAgICAgICAgLy/liLfmlrDpobXpnaLmlbDmja4KICAgICAgICAgICAgdGhpcy5mZXRjaERhdGEoMSk7CiAgICAgICAgICB9KQogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/ExamineList","sourcesContent":["<template>\n  <div>\n    <!-- 搜索--------------------------------- -->\n    <el-card class=\"filter-container\" shadow=\"never\">\n      <div>\n        <i class=\"el-icon-search\"></i>\n        <span>筛选搜索</span>\n        <el-button\n          icon=\"el-icon-search\"\n          style=\"float: right\"\n          @click=\"fetchData()\"\n          type=\"primary\"\n          size=\"small\"\n        >\n          查询结果\n        </el-button>\n      </div>\n      <div style=\"margin-top: 15px\">\n        <el-form :inline=\"true\" size=\"small\" label-width=\"140px\">\n          <el-form-item label=\"搜索项目id：\">\n            <el-input\n              style=\"width: 230px margin-left\"\n              v-model=\"searchObj.approveId\"\n              placeholder=\"序号\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"搜索项目：\">\n            <el-input\n              style=\"width: 230px margin-left\"\n              v-model=\"searchObj.itemName\"\n              placeholder=\"项目名称或者关键字\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"搜索审核人：\">\n            <el-input\n              style=\"width: 203px\"\n              v-model=\"searchObj.chekcer\"\n              placeholder=\"审核人姓名\"\n            ></el-input>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-card>\n    <el-table :data=\"list\" border fit highlight-current-row>\n      <el-table-column label=\"审批序号\" width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.approveId }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"项目名称\" width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.itemName }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"审批人\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.chekcer }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"审批项目类型\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.type }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"审批时间\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.approveTime }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"审批是否通过\" align=\"center\" width=\"120px\">\n        <template slot-scope=\"scope\">\n          <!-- {{ scope.row.status }} -->\n          <span v-if=\"scope.row.status == 0\">\n            <el-button\n              type=\"success\"\n              size=\"mini\"\n              @click=\"changeSwitch($event, scope.row, scope.$index)\"\n              >√</el-button\n            >\n            <el-button\n              type=\"danger\"\n              size=\"mini\"\n              @click=\"changeflase(scope.row.approveId)\"\n              >×</el-button\n            >\n            <el-dialog\n            title=\"不通过原因\"\n            :visible.sync=\"dialogapprove\"\n            width=\"50%\"\n            :before-close=\"handleClose\"\n          >\n          <el-form style=\"width: 80%\"  >\n          <el-form-item label=\"\" label-width=\"100px\">\n          <!-- <el-input autocomplete=\"off\" v-model=\"item.reason\"  placeholder=\"请输入内容\"></el-input> -->\n          <el-input\n          :autoSize=\"true\"\n          style=\"width: 400px\"\n          v-model=\"reasonsss.reason\"\n          type=\"textarea\"\n          placeholder=\"请输入内容\"\n        ></el-input>\n          </el-form-item>\n\n          </el-form>\n          <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"dialogapprove = flase\">取 消</el-button>\n              <el-button type=\"primary\" @click=\"falsereason(reasonsss)\"\n                >确 定</el-button\n              >\n            </div>\n          </el-dialog>\n            </span\n          >\n          <span v-if=\"scope.row.status == 1\">\n            <el-tag type=\"success\">√</el-tag></span\n          >\n          <span v-if=\"scope.row.status == 2\"\n            ><el-tag type=\"danger\">×</el-tag></span\n          >\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"查看审核意见\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.reason }}\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- ----------------------------------分页 -->\n    <div class=\"block\" style=\"float: right; margin-top: 20px\">\n      <span class=\"demonstration\">显示总数</span>\n      <el-pagination\n        background\n        @current-change=\"fetchData\"\n        :current-page.sync=\"pageNum\"\n        :page-size=\"limit\"\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n      >\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport examinelist from \"@/api/examineitem\";\nexport default {\n  //定义变量和初始值\n  data() {\n    return {\n      list: {}, //每页数据集合\n      pageNum: 1,\n      limit: 9, //每n个数据一页\n      total: 1, //初始化\n      searchObj: {}, //条件封装对象\n      dialogapprove:false,\n      reasonsss:{},\n      item:{}\n    };\n  },\n  //在页面渲染前执行\n  //调用methods定义的方法，得到数据\n  created() {\n    this.fetchData();\n  },\n  methods: {\n    //页面列表页渲染，请求接口调用\n    fetchData(page = 1) {\n      this.pageNum = page;\n      var vm = this;\n      examinelist\n        .getExamineList(this.limit, this.pageNum, this.searchObj)\n        //请求成功调用\n        .then((resp) => {\n          console.log('tttt',this.searchObj);\n          vm.list = resp.data.records;\n          vm.total = resp.data.total;\n          console.log(\"adasdsad\", resp.data.records);\n        })\n        .catch((error) => {\n          console.log(\"1321321\");\n        });\n    },\n    changeSwitch(e, row, index) {\n      let uid = row.approveId;\n      console.log(\"qqqqqqqqq\", e, row, index);\n      let type = row.status;\n      console.log(\"aaaaaaaaaaa\", type);\n      this.$confirm(\"是否同意审批\", \"提示\", {\n        confirmButtonText: \"是\",\n        cancelButtonText: \"否\",\n        type: \"warning\",\n      })\n        .then(() => {\n          //调用接口\n          if (type === 0) {\n            type = 1;\n          }\n          examinelist.getExaminestatus(uid, type,this.item).then((resp) => {\n            //提示\n            console.log('aaaaa',uid,type);\n            this.$message({\n              type: \"success\",\n              message: \"审批通过!\",\n            });\n            //刷新页面数据\n            this.fetchData(1);\n          });\n          // this.fetchData(1);\n        })\n        .catch(() => {});\n    },\n    changeflase(row) {\n      // let uid = row.approveId;\n      // console.log(\"qqqqqqqqq\", e, row, index);\n      // let type = row.status;\n      // console.log(\"aaaaaaaaaaa\", type);\n      console.log(row);\n      var vm = this;\n      this.dialogapprove = true;\n       examinelist.detailExamine(row).then(function (resp) {\n         vm.reasonsss = resp.data\n        console.log('aaaaaaa',vm.reasonsss);\n      });\n      this.item = { ...row };\n          //调用接口\n        //   if (type === 0) {\n        //     type = 2;\n        //   }\n        //   this.item.reason =\"asdasd\"\n        //   examinelist.getExaminestatus(uid, type, this.item).then((resp) => {\n        //     //提示\n        //     console.log('qqq',uid);\n        //     console.log('qqqqqaa',this.item.reason);\n        //     this.$message({\n        //       type: \"danger\",\n        //       message: \"审批不通过!\",\n        //     });\n        //     console.log('qqqqq',type);\n        //     //刷新页面数据\n        //     this.fetchData(1);\n        //   })\n        //   // this.fetchData(1);\n\n        // .catch(() => {\n        //   console.log('zsjzsj');\n        // });\n    },\n    falsereason(row){\n      console.log('aaaaaaaa');\n      console.log('nbnb',row);\n      this.dialogapprove =false;\n      let uid = row.approveId;\n      let type = row.status;\n      console.log('aaaaa',row);\n      console.log('qqqqqqq',uid);\n      console.log('tttttttt',type);\n      console.log('zsjzsj',row.reason);\n      let yuanyin = row.reason\n        if (type === 0) {\n            type = 2;\n          }\n       examinelist.getExaminestatus(uid, type,row).then((resp) => {\n            //提示\n            console.log('qqq',uid);\n\n            this.$message({\n              type: \"danger\",\n              message: \"审批不通过!\",\n            });\n            console.log('qqqqq',type);\n            //刷新页面数据\n            this.fetchData(1);\n          })\n    }\n  },\n};\n</script>\n"]}]}