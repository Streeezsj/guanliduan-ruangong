{"remainingRequest":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue管理端\\软件工程\\vue-admin-template-master\\src\\views\\UserControll\\edituser.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\src\\views\\UserControll\\edituser.vue","mtime":1654849631925},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1cGRhdGV1c2VyY29udHJvbGwgZnJvbSAiQC9hcGkvdXNlcmNvbnRyb2xsZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIC8v55So5oi35a+G56CBCiAgICB2YXIgbnVtID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcigi5a+G56CB5LiN6IO95Li656m6IikpOwogICAgICB9CgogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBjb25zdCBQYXNzd29yZCA9IC9eW2EtekEtWl1cd3s1LDE3fSQvOwogICAgICAgIGlmICghUGFzc3dvcmQudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgIGNhbGxiYWNrKAogICAgICAgICAgICBuZXcgRXJyb3IoCiAgICAgICAgICAgICAgIuivt+i+k+WFpeS7peWtl+avjeW8gOWktO+8jOmVv+W6puWcqDYtMTjkuYvpl7TvvIzlj6rog73ljIXlkKvlrZfnrKbjgIHmlbDlrZflkozkuIvliJLnur/jgIIiCiAgICAgICAgICAgICkKICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH07CgogICAgLy/pgq7nrrHpqozor4EKICAgIHZhciBjaGVja2VtYWlsID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcigi5YaF5a655LiN6IO95Li656m6IikpOwogICAgICB9CiAgICAgIGNvbnN0IHJlZ0VtYWlsID0gL14oW2EtekEtWjAtOV8tXSkrQChbYS16QS1aMC05Xy1dKSsoLlthLXpBLVowLTlfLV0pKy87CiAgICAgIGlmICghcmVnRW1haWwudGVzdCh2YWx1ZSkpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIui+k+WFpeato+ehrueahOmCrueuseagvOW8jyIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgLy/nlLXor53liKTmlq0KICAgIHZhciBjaGVja3Bob25lID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcigi5omL5py65Y+35LiN6IO95Li656m6IikpOwogICAgICB9CiAgICAgIGNvbnN0IHJlZyA9IC9eMVszNDU3OF1cZHs5fSQvOwogICAgICBpZiAoIXJlZy50ZXN0KHZhbHVlKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6L6T5YWl5omL5py65qC85byP5LiN5q2j56GuIikpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CiAgICByZXR1cm4gewogICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t5pel5Y6GCiAgICAgIHBpY2tlck9wdGlvbnM6IHsKICAgICAgICBzaG9ydGN1dHM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgdGV4dDogIuS7iuWkqSIsCiAgICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgICAgcGlja2VyLiRlbWl0KCJwaWNrIiwgbmV3IERhdGUoKSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0ZXh0OiAi5pio5aSpIiwKICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0KTsKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoInBpY2siLCBkYXRlKTsKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICLkuIDlkajliY0iLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA3KTsKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoInBpY2siLCBkYXRlKTsKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgfSwKICAgICAgdXNlcjoge30sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeWQjeensCIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgewogICAgICAgICAgICBtaW46IDIsCiAgICAgICAgICAgIG1heDogMTAsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLplb/luqblnKggMiDliLAgMTAg5Liq5a2X56ymIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIHVzZXJuYW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl55So5oi35ZCN56ewIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG1pbjogMiwKICAgICAgICAgICAgbWF4OiAxMCwKICAgICAgICAgICAgbWVzc2FnZTogIumVv+W6puWcqCAyIOWIsCAxMCDkuKrlrZfnrKYiLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgcGFzc3dvcmQ6IFt7IHZhbGlkYXRvcjogbnVtLCByZXF1aXJlZDogdHJ1ZSwgdHJpZ2dlcjogImJsdXIiIH1dLAogICAgICAgIHN0YXR1czogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6nnlKjmiLfnirbmgIEiLCB0cmlnZ2VyOiAiY2hhbmdlIiB9XSwKICAgICAgICBlbWFpbDogW3sgdmFsaWRhdG9yOiBjaGVja2VtYWlsLCByZXF1aXJlZDogdHJ1ZSwgdHJpZ2dlcjogImJsdXIiIH1dLAogICAgICAgIHBob25lOiBbeyB2YWxpZGF0b3I6IGNoZWNrcGhvbmUsIHJlcXVpcmVkOiB0cnVlLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCiAgICAgICAgYXV0aG9yaXR5OiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup5p2D6ZmQ57qn5YirIiwgdHJpZ2dlcjogImNoYW5nZSIgfSwKICAgICAgICBdLAogICAgICAgICBjcmVhdGVUaW1lOiBbCiAgICAgICAgICAgIHsgIHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5byA5aeL5pel5pyf44CB5pe26Ze0JywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICBdLAogICAgICAgICAgdXBkYXRlVGltZTogWwogICAgICAgICAgICB7ICByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeabtOaWsOaXpeacn+OAgeaXtumXtCcsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgXSwKICAgICAgfSwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5mYXRjaERhdGFJZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZmF0Y2hEYXRhSWQoKSB7CiAgICAgIHZhciBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VySWQ7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHVwZGF0ZXVzZXJjb250cm9sbC51cGRhdGV1c2VyKGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgdm0udXNlciA9IHJlc3AuZGF0YTsKICAgICAgfSk7CiAgICB9LAoKICAgIG9uU3VibWl0KCkgewogICAgICAvL+iOt+WPlmZyb23nu5PngrnvvIzpqozor4HlrZfmrrUKICAgICAgdGhpcy4kcmVmcy5ydWxlRm9ybS52YWxpZGF0ZShhc3luYyAoc3VjY2VzcykgPT4gewogICAgICAgIC8v5aaC5p6c5YWo6YOo5a2X5q6156ym5ZCI5p2h5Lu2CiAgICAgICAgaWYgKHN1Y2Nlc3MpIHsKICAgICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgICB1cGRhdGV1c2VyY29udHJvbGwKICAgICAgICAgICAgLnVwc3VibWl0dXNlcih2bS51c2VyKQogICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICAgIHZtLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLkv67mlLnmiJDlip8hIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB2bS4kcm91dGVyLmdvKC0xKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgIHZtLiRtZXNzYWdlLmVycm9yKCLkv67mlLnlpLHotKUiKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgICAvL+S4iuS8oOWbvueJh+ebuOWFs+WbnuiwgwogICAgaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgICAgdGhpcy51c2VyLnBvcnRyYWl0ID0gcmVzLmRhdGEucGF0aDsKICAgICAgICBjb25zb2xlLmxvZygi5LiK5Lyg5Zu+54mH5oiQ5YqfIixyZXMpCiAgICAgIH0sCiAgICAgIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7CiAgICAgICAgY29uc3QgaXNKUEcgPSBmaWxlLnR5cGUgPT09ICdpbWFnZS9qcGVnJzsKICAgICAgICBjb25zdCBpc0x0Mk0gPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDI7CiAgICAgICAgIGNvbnNvbGUubG9nKCJiZWZvcmVBdmF0YXJVcGxvYWQiLGZpbGUpCiAgICAgICAgaWYgKCFpc0pQRykgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aS05YOP5Zu+54mH5Y+q6IO95pivIEpQRyDmoLzlvI8hJyk7CiAgICAgICAgfQogICAgICAgIGlmICghaXNMdDJNKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflpKflsI/kuI3og73otoXov4cgMk1CIScpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaXNKUEcgJiYgaXNMdDJNOwoKICAgICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["edituser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"edituser.vue","sourceRoot":"src/views/UserControll","sourcesContent":["<template>\n  <div class=\"box\" shadow=\"never\">\n    <el-form :model=\"user\" label-width=\"180px\" :rules=\"rules\" ref=\"ruleForm\">\n      <el-form-item></el-form-item>\n\n      <el-form-item label=\"名称：\" prop=\"name\">\n        <el-input\n          v-model=\"user.name\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"用户名称：\" prop=\"username\">\n        <el-input\n          v-model=\"user.username\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"用户密码：\" prop=\"password\">\n        <el-input\n          v-model=\"user.password\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"用户性别：\">\n        <el-radio-group v-model=\"user.sex\">\n          <el-radio :label=\"0\">男</el-radio>\n          <el-radio :label=\"1\">女</el-radio>\n        </el-radio-group>\n      </el-form-item>\n\n      <el-form-item label=\"用户权限：\" prop=\"authority\">\n        <el-select v-model=\"user.authority\" placeholder=\"请选择权限级别\">\n          <el-option label=\"超级管理员\" value=\"超级管理员\"></el-option>\n          <el-option label=\"普通管理员\" value=\"普通管理员\"></el-option>\n          <el-option label=\"普通用户\" value=\"普通用户\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"电话：\" prop=\"phone\">\n        <el-input\n          v-model.number=\"user.phone\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n      <el-form-item label=\"邮箱：\" prop=\"email\">\n        <el-input\n          v-model=\"user.email\"\n          style=\"width: 400px\"\n          placeholder=\"请输入内容\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"用户状态：\" prop=\"status\">\n\n        <el-select v-model=\"user.status\" placeholder=\"请选择用户状态\">\n          <el-option label=\"状态1\" value=\"1\"></el-option>\n          <el-option label=\"状态0\" value=\"0\"></el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item label=\"开始时间:\" prop=\"createTime\">\n        <el-date-picker\n          v-model=\"user.createTime\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n          type=\"datetime\"\n          placeholder=\"选择日期时间\"\n        >\n        </el-date-picker>\n      </el-form-item>\n\n      <el-form-item label=\"更新时间:\" prop=\"updateTime\">\n        <el-date-picker\n          v-model=\"user.updateTime\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n          type=\"datetime\"\n          placeholder=\"选择日期时间\"\n        >\n        </el-date-picker>\n      </el-form-item>\n\n       <!-- 上传图片 -->\n      <el-form-item label=\"上传图片：\">\n        <el-upload\n          class=\"avatar-uploader\"\n          action=\"http://120.77.145.204:8021/uploadFile\"\n          :show-file-list=\"true\"\n          :on-success=\"handleAvatarSuccess\"\n          :before-upload=\"beforeAvatarUpload\"\n        >\n          <img v-if=\"user.portrait\" :src=\"user.portrait\" class=\"avatar\" />\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n          <div slot=\"tip\" class=\"el-upload__tip\">\n            只能上传jpg/png文件，且不超过500kb\n          </div>\n        </el-upload>\n      </el-form-item>\n      <!-- ------------------------------ -->\n\n      <el-form-item style=\"margin-left: -20px\">\n        <el-button type=\"primary\" @click=\"onSubmit\">编辑</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n<script>\nimport updateusercontroll from \"@/api/usercontroller\";\nexport default {\n  data() {\n    //用户密码\n    var num = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"密码不能为空\"));\n      }\n\n      setTimeout(() => {\n        const Password = /^[a-zA-Z]\\w{5,17}$/;\n        if (!Password.test(value)) {\n          callback(\n            new Error(\n              \"请输入以字母开头，长度在6-18之间，只能包含字符、数字和下划线。\"\n            )\n          );\n        } else {\n          callback();\n        }\n      }, 1000);\n    };\n\n    //邮箱验证\n    var checkemail = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"内容不能为空\"));\n      }\n      const regEmail = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;\n      if (!regEmail.test(value)) {\n        callback(new Error(\"输入正确的邮箱格式\"));\n      } else {\n        callback();\n      }\n    };\n    //电话判断\n    var checkphone = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"手机号不能为空\"));\n      }\n      const reg = /^1[34578]\\d{9}$/;\n      if (!reg.test(value)) {\n        callback(new Error(\"输入手机格式不正确\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      // -------------------------------------------日历\n      pickerOptions: {\n        shortcuts: [\n          {\n            text: \"今天\",\n            onClick(picker) {\n              picker.$emit(\"pick\", new Date());\n            },\n          },\n          {\n            text: \"昨天\",\n            onClick(picker) {\n              const date = new Date();\n              date.setTime(date.getTime() - 3600 * 1000 * 24);\n              picker.$emit(\"pick\", date);\n            },\n          },\n          {\n            text: \"一周前\",\n            onClick(picker) {\n              const date = new Date();\n              date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit(\"pick\", date);\n            },\n          },\n        ],\n      },\n      user: {},\n      rules: {\n        name: [\n          { required: true, message: \"请输入名称\", trigger: \"blur\" },\n          {\n            min: 2,\n            max: 10,\n            message: \"长度在 2 到 10 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n        username: [\n          { required: true, message: \"请输入用户名称\", trigger: \"blur\" },\n          {\n            min: 2,\n            max: 10,\n            message: \"长度在 2 到 10 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n        password: [{ validator: num, required: true, trigger: \"blur\" }],\n        status: [{ required: true, message: \"请选择用户状态\", trigger: \"change\" }],\n        email: [{ validator: checkemail, required: true, trigger: \"blur\" }],\n        phone: [{ validator: checkphone, required: true, trigger: \"blur\" }],\n        authority: [\n          { required: true, message: \"请选择权限级别\", trigger: \"change\" },\n        ],\n         createTime: [\n            {  required: true, message: '请选择开始日期、时间', trigger: 'blur' },\n          ],\n          updateTime: [\n            {  required: true, message: '请选择更新日期、时间', trigger: 'blur' },\n          ],\n      },\n    };\n  },\n  created() {\n    this.fatchDataId();\n  },\n  methods: {\n    fatchDataId() {\n      var id = this.$route.params.userId;\n      var vm = this;\n      updateusercontroll.updateuser(id).then(function (resp) {\n        vm.user = resp.data;\n      });\n    },\n\n    onSubmit() {\n      //获取from结点，验证字段\n      this.$refs.ruleForm.validate(async (success) => {\n        //如果全部字段符合条件\n        if (success) {\n          var vm = this;\n          updateusercontroll\n            .upsubmituser(vm.user)\n            .then(function (resp) {\n              vm.$message({\n                message: \"修改成功!\",\n                type: \"success\",\n              });\n              vm.$router.go(-1);\n            })\n            .catch(function (error) {\n              vm.$message.error(\"修改失败\");\n            });\n        } else {\n          return false;\n        }\n      });\n    },\n     //上传图片相关回调\n    handleAvatarSuccess(res, file) {\n         this.user.portrait = res.data.path;\n        console.log(\"上传图片成功\",res)\n      },\n      beforeAvatarUpload(file) {\n        const isJPG = file.type === 'image/jpeg';\n        const isLt2M = file.size / 1024 / 1024 < 2;\n         console.log(\"beforeAvatarUpload\",file)\n        if (!isJPG) {\n          this.$message.error('上传头像图片只能是 JPG 格式!');\n        }\n        if (!isLt2M) {\n          this.$message.error('上传头像图片大小不能超过 2MB!');\n        }\n        return isJPG && isLt2M;\n\n      }\n  },\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n.line {\n  text-align: center;\n}\n\n.box {\n  margin-left: 200px;\n  height: 950px;\n  width: 700px;\n  border: solid rgb(187, 186, 187);\n}\n\n.avatar-uploader .el-upload {\n  border: 3px dashed #decfcf;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n</style>\n"]}]}