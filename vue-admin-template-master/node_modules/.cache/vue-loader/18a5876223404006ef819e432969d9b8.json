{"remainingRequest":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue管理端\\软件工程\\vue-admin-template-master\\src\\views\\MoneyList\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\src\\views\\MoneyList\\index.vue","mtime":1654847178776},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue管理端\\软件工程\\vue-admin-template-master\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb25leWxpc3QgZnJvbSAiQC9hcGkvbW9uZXlpdGVtIjsKZXhwb3J0IGRlZmF1bHQgewogIC8v5a6a5LmJ5Y+Y6YeP5ZKM5Yid5aeL5YC8CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3Q6IHt9LCAvL+avj+mhteaVsOaNrumbhuWQiAogICAgICBwYWdlTnVtOiAxLAogICAgICBsaW1pdDogNSwgLy/mr49u5Liq5pWw5o2u5LiA6aG1CiAgICAgIHRvdGFsOiAxLCAvL+WIneWni+WMlgogICAgICBpdGVtOnt9LAogICAgICBzZWFyY2hPQko6e30KICAgIH07CiAgfSwKICAvL+WcqOmhtemdoua4suafk+WJjeaJp+ihjAogIC8v6LCD55SobWV0aG9kc+WumuS5ieeahOaWueazle+8jOW+l+WIsOaVsOaNrgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/pobXpnaLliJfooajpobXmuLLmn5PvvIzor7fmsYLmjqXlj6PosIPnlKgKICAgIGZldGNoRGF0YShwYWdlID0gMSkgewogICAgICB0aGlzLnBhZ2VOdW0gPSBwYWdlOwogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBtb25leWxpc3QKICAgICAgICAuZ2V0TW9uZXlMaXN0KHRoaXMubGltaXQsIHRoaXMucGFnZU51bSwgdGhpcy5zZWFyY2hPQkopCiAgICAgICAgLy/or7fmsYLmiJDlip/osIPnlKgKICAgICAgICAudGhlbigocmVzcCkgPT4gewogICAgICAgICAgdm0ubGlzdCA9IHJlc3AuZGF0YS5yZWNvcmRzOwogICAgICAgICAgdm0udG90YWwgPSByZXNwLmRhdGEudG90YWw7CiAgICAgICAgICBjb25zb2xlLmxvZygiYWRhc2RzYWQiLCByZXNwLmRhdGEucmVjb3Jkcyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiMTMyMTMyMSIpOwogICAgICAgIH0pOwogICAgfSwKCiAgICBjaGFuZ2VTd2l0Y2goZSwgcm93LCBpbmRleCkgewogICAgICBsZXQgdWlkID0gcm93LmJ1ZGdldElkOwogICAgICBjb25zb2xlLmxvZygicXFxcXFxcXFxIiwgZSwgcm93LCBpbmRleCk7CiAgICAgIGxldCB0eXBlID0gcm93LnN0YXR1czsKICAgICAgY29uc29sZS5sb2coImFhYWFhYWFhYWFhIiwgdHlwZSk7CiAgICAgIHRoaXMuJGNvbmZpcm0oIuaYr+WQpuWQjOaEj+WuoeaJuSIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLmmK8iLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlkKYiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAvL+iwg+eUqOaOpeWPowogICAgICAgICAgaWYgKHR5cGUgPT09IDApIHsKICAgICAgICAgICAgdHlwZSA9IDE7CiAgICAgICAgICB9CiAgICAgICAgICBtb25leWxpc3QuZ2V0TW9uZXlzdGF0dXModWlkLCB0eXBlLHRoaXMuaXRlbSkudGhlbigocmVzcCkgPT4gewogICAgICAgICAgICAvL+aPkOekugogICAgICAgICAgICBjb25zb2xlLmxvZygnYWFhYWEnLHVpZCx0eXBlKTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLlrqHmibnpgJrov4chIiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8v5Yi35paw6aG16Z2i5pWw5o2uCiAgICAgICAgICAgIHRoaXMuZmV0Y2hEYXRhKDEpOwogICAgICAgICAgfSk7CiAgICAgICAgICAvLyB0aGlzLmZldGNoRGF0YSgxKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAogICAgY2hhbmdlZmxhc2VzKGUsIHJvdywgaW5kZXgpIHsKICAgICAgbGV0IHVpZCA9IHJvdy5idWRnZXRJZDsKICAgICAgY29uc29sZS5sb2coInFxcXFxcXFxcSIsIGUsIHJvdywgaW5kZXgpOwogICAgICBsZXQgdHlwZSA9IHJvdy5zdGF0dXM7CiAgICAgIGNvbnNvbGUubG9nKCJhYWFhYWFhYWFhYSIsIHR5cGUpOwogICAgICB0aGlzLiRjb25maXJtKCLkuI3lkIzmhI/lrqHmibkiLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi5pivIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5ZCmIiwKICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgLy/osIPnlKjmjqXlj6MKICAgICAgICAgIGlmICh0eXBlID09PSAwKSB7CiAgICAgICAgICAgIHR5cGUgPSAyOwogICAgICAgICAgfQogICAgICAgICAgbW9uZXlsaXN0LmdldE1vbmV5c3RhdHVzKHVpZCwgdHlwZSx0aGlzLml0ZW0pLnRoZW4oKHJlc3ApID0+IHsKICAgICAgICAgICAgLy/mj5DnpLoKICAgICAgICAgICAgY29uc29sZS5sb2coJ2FhYWFhJyx1aWQsdHlwZSk7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAi5a6h5om55LiN6YCa6L+HISIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvL+WIt+aWsOmhtemdouaVsOaNrgogICAgICAgICAgICB0aGlzLmZldGNoRGF0YSgxKTsKICAgICAgICAgIH0pOwogICAgICAgICAgLy8gdGhpcy5mZXRjaERhdGEoMSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4ge30pOwogICAgfSwKCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/MoneyList","sourcesContent":["<template>\n  <div>\n    <el-table :data=\"list\" border fit highlight-current-row>\n      <el-table-column label=\"经费ID\" width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.budgetId }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"项目名称\" width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.budgetName }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"所需经费购买东西\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.budgetGood }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"购买数量\" width=\"100\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag size=\"medium\">{{ scope.row.budgetNum }}</el-tag>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"购买单价\" width=\"100\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"success\">{{ scope.row.budgetPrice }}</el-tag>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"所需经费总额\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"warning\">{{ scope.row.budgetAllprice }}</el-tag>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"经费申请原因\" align=\"center\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.budgetReason }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"申请经费时间\" align=\"center\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.budgetTime }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"是否同意申请\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <!-- {{ scope.row.status }} -->\n           <span v-if=\"scope.row.status == 0\">\n            <el-button\n              type=\"success\"\n              size=\"mini\"\n              @click=\"changeSwitch($event, scope.row, scope.$index)\"\n              >√</el-button\n            >\n            <el-button\n              type=\"danger\"\n              size=\"mini\"\n              @click=\"changeflases($event, scope.row, scope.$index)\"\n              >×</el-button\n            >\n            </span\n          >\n          <span v-if=\"scope.row.status == 1\">\n            <el-tag type=\"success\">√</el-tag></span\n          >\n          <span v-if=\"scope.row.status == 2\"\n            ><el-tag type=\"danger\">×</el-tag></span\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- ----------------------------------分页 -->\n    <div class=\"block\" style=\"float: right; margin-top: 20px\">\n      <span class=\"demonstration\">显示总数</span>\n      <el-pagination\n        background\n        @current-change=\"fetchData\"\n        :current-page.sync=\"pageNum\"\n        :page-size=\"limit\"\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n      >\n      </el-pagination>\n    </div>\n  </div>\n</template>\n<script>\nimport moneylist from \"@/api/moneyitem\";\nexport default {\n  //定义变量和初始值\n  data() {\n    return {\n      list: {}, //每页数据集合\n      pageNum: 1,\n      limit: 5, //每n个数据一页\n      total: 1, //初始化\n      item:{},\n      searchOBJ:{}\n    };\n  },\n  //在页面渲染前执行\n  //调用methods定义的方法，得到数据\n  created() {\n    this.fetchData();\n  },\n  methods: {\n    //页面列表页渲染，请求接口调用\n    fetchData(page = 1) {\n      this.pageNum = page;\n      var vm = this;\n      moneylist\n        .getMoneyList(this.limit, this.pageNum, this.searchOBJ)\n        //请求成功调用\n        .then((resp) => {\n          vm.list = resp.data.records;\n          vm.total = resp.data.total;\n          console.log(\"adasdsad\", resp.data.records);\n        })\n        .catch((error) => {\n          console.log(\"1321321\");\n        });\n    },\n\n    changeSwitch(e, row, index) {\n      let uid = row.budgetId;\n      console.log(\"qqqqqqqqq\", e, row, index);\n      let type = row.status;\n      console.log(\"aaaaaaaaaaa\", type);\n      this.$confirm(\"是否同意审批\", \"提示\", {\n        confirmButtonText: \"是\",\n        cancelButtonText: \"否\",\n        type: \"warning\",\n      })\n        .then(() => {\n          //调用接口\n          if (type === 0) {\n            type = 1;\n          }\n          moneylist.getMoneystatus(uid, type,this.item).then((resp) => {\n            //提示\n            console.log('aaaaa',uid,type);\n            this.$message({\n              type: \"success\",\n              message: \"审批通过!\",\n            });\n            //刷新页面数据\n            this.fetchData(1);\n          });\n          // this.fetchData(1);\n        })\n        .catch(() => {});\n    },\n    changeflases(e, row, index) {\n      let uid = row.budgetId;\n      console.log(\"qqqqqqqqq\", e, row, index);\n      let type = row.status;\n      console.log(\"aaaaaaaaaaa\", type);\n      this.$confirm(\"不同意审批\", \"提示\", {\n        confirmButtonText: \"是\",\n        cancelButtonText: \"否\",\n        type: \"warning\",\n      })\n        .then(() => {\n          //调用接口\n          if (type === 0) {\n            type = 2;\n          }\n          moneylist.getMoneystatus(uid, type,this.item).then((resp) => {\n            //提示\n            console.log('aaaaa',uid,type);\n            this.$message({\n              type: \"info\",\n              message: \"审批不通过!\",\n            });\n            //刷新页面数据\n            this.fetchData(1);\n          });\n          // this.fetchData(1);\n        })\n        .catch(() => {});\n    },\n\n  },\n};\n</script>\n\n"]}]}